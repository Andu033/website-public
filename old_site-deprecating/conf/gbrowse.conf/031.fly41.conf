[GENERAL]

# wormbases-specific mod.  Turn off autocomplete
head = <script>var doAutocomplete;</script>


description = D. melanogaster (via Flybase Release 4.1)
adaptor     = dbi::mysqlopt
database    = dbi:mysql:database=fly4_1;host=localhost
# fasta_files = 
aggregators = transcript{five_prime_UTR,three_prime_UTR/CDS} alignment{match_part/match}
user        = nobody
passwd      =
plugins = FastaDumper RestrictionAnnotator SequenceDumper

# Web site configuration info
stylesheet  = /gbrowse/gbrowse.css
buttons     = /gbrowse/images/buttons
tmpimages   = sub {
		my ($server) = $ENV{SERVER_NAME} =~ /(.*?)\..*/;
	  	$server    ||= 'local';
  		return "/ace_images/gbrowse/$server","/var/tmp/ace_images/gbrowse";
	}

# where to link to when user clicks in detaild view
# link          = http://www.flybase.org/cgi-bin/fbquery?$name
link_target   = _blank

# what image widths to offer
image widths  = 450 640 800 1024

# default width of detailed view (pixels)
default width = 800
default features = BAC:overview
		   TRANS
                   GENE

# max and default segment sizes for detailed view
max segment = 2000000
default segment = 100000

# low-res boundary
low res = 200000

# zoom levels
zoom levels = 100 200 500 1000 2000 5000 10000 20000 40000 
		100000 200000 500000 1000000 1500000 2000000

# canonical features to show in overview
overview units   = M
overview bgcolor = wheat
detailed bgcolor = wheat

footer = <hr>
	<table width="100%">
	<TR>
	<TD align="LEFT" class="databody">
	For the source code for this browser, see the <a href="http://www.gmod.org">
	Generic Model Organism Database Project.</a>  For other questions, send
	mail to <a href="mailto:lstein@cshl.org">lstein@cshl.org</a>.
	</TD>
	</TR>
	</table>
	<hr>
	<pre>$Id: 03.fly.conf,v 1.1 2002/03/24 04:29:44 lstein Exp $</pre>

# examples to show in the introduction
examples = 2L
	   2L:80,000..120,000
	   AE003590
	   Nrv2 Mipp1
	   CG12178

# "automatic" classes to try when an unqualified identifier is given
automatic classes = Sequence

landmark features = chromosome_band

# Default glyph settings
[TRACK DEFAULTS]
glyph       = generic
height      = 8
bgcolor     = cyan
fgcolor     = cyan
font2color   = blue
fontcolor    = black
label density = 40
bump density  = 200

[SCAFFOLD:overview]
feature      = scaffold
glyph        = generic
height       = 4
key          = Scaffolds

[BAC:overview]
feature      = BAC
glyph        = generic
height       = 4
bgcolor      = green
fgcolor      = green
key          = BACs

# the remainder of the sections configure particular features to show
[TRANS]
feature      = transcript
glyph        = processed_transcript
adjust_exons   = 1
bgcolor      = turquoise
fgcolor      = black
height       = 10
category     = Genes
link         = sub { my $f = shift;
                     my (@xref) = sort grep {/FlyBase/} $f->attributes('Dbxref');
	             $xref[0] =~ s/^FlyBase://;
                     "http://www.flybase.org/.bin/fbidq.html?$xref[0]";
	       }
description  = sub { my $f = shift; $f->attributes('name') }
key          = Gene models

[GENE]
feature      = gene
glyph        = arrow
fgcolor      = red
linewidth    = 3
height       = 6
category     = Genes
link         = sub { my $f = shift;
                     my (@xref) = sort grep {/FlyBase/} $f->attributes('Dbxref');
	             $xref[0] =~ s/^FlyBase://;
                     "http://www.flybase.org/.bin/fbidq.html?$xref[0]";
	       }
description  = sub { my $f = shift; $f->attributes('name') }
key          = Gene regions

[NCRNA]
feature      = tRNA ncRNA rRNA snoRNA snRNA
glyph        = generic
bgcolor      = peru
fgcolor      = peru
category     = Genes
label        = sub { shift->attributes('name') }
key          = Noncoding RNAs

[PRED]
feature      = alignment:genscan alignment:genie
glyph        = segments
bgcolor      = sub { shift->source =~ /genie/ ? 'silver' : 'lightgrey'}
fgcolor      = black
height       = 10
category     = Genes
description  = sub { my $f = shift; $f->source}
title        = sub { my $f = shift; $f->source}
key          = Raw gene predictions

[PSEUDO]
feature      = pseudogene
glyph        = segments
bgcolor      = white
fgcolor      = black
height       = 10
category     = Genes
key          = Pseudogenes

[REG]
feature      = enhancer polyA_site regulatory_region transcription_start_site protein_binding_site DNA_motif
glyph        = generic
bgcolor      = black
fgcolor      = black
category     = Genes
description  = sub {my $f = shift; 
	            my $m = $f->method;
                    my %a = $f->attributes;
                    for (sort keys %a) { $m .= "; $_=$a{$_}"; }
                    $m;
                    }	           
key          = Gene processing & regulatory regions

[SIM4]
feature      = alignment:sim4:na_gb.dmel
               alignment:sim4:na_DGC_dros
	       alignment:sim4:na_dbEST.same.dmel
	       alignment:sim4:na_gadfly_dmel_r2
               alignment:sim4:na_transcript_dmel_r31
               alignment:sim4:na_transcript_dmel_r32
	       alignment:sim4:na_dbEST.diff.dmel
glyph        = segments
strand_arrow = 1
fgcolor      = black
bgcolor      = orange
height       = 6;
label        = sub {my $f = shift; $f->attributes('Name') }
title        = sub {my $f = shift; $f->attributes('Name') }
description  = sub {my $f = shift;
	            my $s = $f->source; 
	            $s=~s/^sim4://; 
                    $s;
	       }
category     = Alignments
key          = SIM4 (RNA to genome) alignments

[BLASTX]
feature      = alignment:blastx:aa_SPTR.insect
               alignment:blastx:aa_SPTR.worm
	       alignment:blastx:aa_SPTR.yeast
	       alignment:blastx:aa_SPTR.othvert
               alignment:blastx:aa_SPTR.othinv
               alignment:blastx:aa_SPTR.primate
	       alignment:blastx:aa_SPTR.dmel
               alignment:blastx:aa_SPTR.rodent
               alignment:blastx:aa_SPTR.plant
glyph        = segments
strand_arrow = 1
fgcolor      = black
bgcolor      = sub {shift->source =~ /dmel/i ? 'gold' : 'yellow' }
height       = 6;
label        = sub {my $f = shift; $f->attributes('Name') }
title        = sub {my $f = shift; 
		    my $name = $f->attributes('Name');
	            my $s = $f->source; 
	            $s=~s/^blastx:aa_SPTR\.//; 
                    "$name ($s)";
                   }
description  = sub {my $f = shift;
	            my $s = $f->source; 
	            $s=~s/^blastx:aa_SPTR\.//; 
                    $s;
	       }
link         = sub { my $f = shift;
                     my $name = $f->attributes('Name');
		     "http://au.expasy.org/cgi-bin/niceprot.pl?$name";
		}
category     = Alignments
key          = BLASTX (protein to genome) alignments

[CDS]
feature      = CDS
strand_arrow = 1
bgcolor      = blue
fgcolor      = blue
category     = Proteins
height       = 6
label        = sub {my $f = shift; $f->attributes('name') || $f->name}
description  = sub {
	           join ' ',grep {/GB_protein/} shift->attributes('Dbxref');
                   }
link         = sub { my $f = shift;
                     my (@xref) = sort grep {/FlyBase/} $f->attributes('Dbxref');
	             $xref[-1] =~ s/^FlyBase://;
                     "http://www.flybase.org/.bin/fbidq.html?$xref[-1]";
	       }
key          = Coding region

[PROTEIN]
feature      = mature_peptide
	       signal_peptide
strand_arrow = sub {shift->method eq 'mature_peptide'}
bgcolor       = sub {shift->method eq 'mature_peptide'?'blue':'cyan'}
glyph        = sub {shift->method eq 'signal_peptide'?'saw_teeth':'generic'}
category     = Proteins
fgcolor      = black
label        = sub {my $f=shift; $f->attributes('Alias')}
description  = sub {my $f=shift; $f->method.' '.$f->attributes('Name')}
key          = Protein features

[REPEAT]
feature      = repeat_region
               transposable_element
glyph        = wave
height       = 10
bgcolor      = red
fgcolor      = red
description  = sub {shift->method}
link          = http://www.flybase.org/cgi-bin/fbquery?$name
category     = Repeats
key          = Repeat regions and transposons

[REPEAT:6000]
glyph        = generic

[TRANSINSERT]
feature      = transposable_element_insertion_site
glyph        = diamond
height       = 10
bgcolor      = red
fgcolor      = red
point        = 1
link          = http://www.flybase.org/cgi-bin/fbquery?$name
description  = sub {shift->method}
category     = Repeats
key          = Transposable element insertion sites

[SCAFFOLD]
feature      = scaffold
glyph        = generic
height       = 4
category     = Sequence assembly & landmarks
key          = Scaffolds

[OLIGO]
feature      = oligo
glyph        = segments
height       = 4
description  = sub {shift->dna}
category     = Sequence assembly & landmarks
key          = Oligonucleotides

[BAC]
feature      = BAC
glyph        = generic
height       = 4
bgcolor      = green
fgcolor      = green
category     = Sequence assembly & landmarks
key          = BACs

[BAND]
feature      = chromosome_band
glyph        = generic
height       = 6
bgcolor      = red
fgcolor      = red
category     = Sequence assembly & landmarks
key          = Cytogenetic bands

[ASSEMBLY]
feature      = alignment:assembly:path
glyph        = segments
category     = Sequence assembly & landmarks
key          = Assembly path

[DNA]
glyph        = dna
height       = 40
fgcolor      = red
global feature = 1
category     = Sequence assembly & landmarks
strand         = both

[TranslationF]
glyph        = translation
global feature = 1
frame0       = cadetblue
frame1       = blue
frame2       = darkblue
height       = 20
fgcolor      = purple
start_codons = 0
strand       = +1
arrow_height = 2
translation  = 3frame
category     = Sequence assembly & landmarks
key          = 3-frame translation (forward)
citation     = This track shows the position of stop codons at low magnifications,
	and the 3-frame translation at high magnifications.  Only the forward strand
	is shown.

[TranslationR]
glyph        = translation
global feature = 1
frame0       = darkred
frame1       = red
frame2       = crimson
height       = 20
fgcolor      = blue
strand       = -1
start_codons = 0
arrow_height = 2
translation  = 3frame
category     = Sequence assembly & landmarks
key          = 3-frame translation (reverse)
citation     = This track shows the position of stop codons at low magnifications,
	and the 3-frame translation at high magnifications.  Only the reverse
	strand is shown.
