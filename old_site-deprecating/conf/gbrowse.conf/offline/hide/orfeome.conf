[GENERAL]
description = C. elegans Orfeome Data
db_adaptor  = Bio::DB::GFF
db_args     = -dsn dbi:mysql:database=orfeome_das;host=localhost
aggregators = ESM{expressed_sequence_match}
user        = nobody
pass        = 

# Installed plugins
plugins = GFFDumper

# Web site configuration info
stylesheet  = /stylesheets/wormbase.css
buttons     = /gbrowse/images/buttons
tmpimages   = /ace_images/gbrowse

keystyle = between
empty_tracks = key

landmark features = region:Link

# Default glyph settings
glyph       = generic
height      = 8
bgcolor     = cyan
fgcolor     = black
label density = 25
bump density  = 100

# where to link to when user clicks in detailed view
link          = /db/get?name=$name;class=$class

# what image widths to offer
image widths  = 450 640 800 960 1024 1280

# default width of detailed view (pixels)
default width = 800
default features = OST OSTP

# max and default segment sizes for detailed view
max segment = 1000000
default segment = 50000

# low-res boundary
low res = 200000

# standard zoom levels to be offered to user
zoom levels    = 100 200 500 1000 2000 5000 10000 20000 40000 100000 200000 500000 1000000

# fine zoom to be offered -- please provide a percentage
fine zoom      = 20%

# canonical features to show in overview
overview bgcolor = #93CBF4

# routines to compile in advance
init_code = sub ostp_color {
		my $feature = shift;
		my ($amp)  = eval{$feature->attributes('Amplified')};
		return 'grey' unless defined $amp;
		return 'green' if $amp;
		return 'red'   if !$amp;
	}
	sub ostp_amplifies {
		my $feature = shift;
		my ($amp)  = eval{$feature->attributes('Amplified')};
		return '' unless defined $amp;
		return "amplifies"          if $amp;
		return 'does not amplify'   if !$amp;
	}


header = sub {
	require ElegansSubs;
	require CGI;
	$Ace::Browser::AceSubs::TOP = 0;
	my $result = ElegansSubs::Banner();
	$result;
	}

footer = sub {
	require ElegansSubs;
	print '
	<hr>
	<table width="100%">
	<TR>
	<TD align="LEFT" class="databody">
	For the source code for this browser, see the <a href="http://www.gmod.org">
	Generic Model Organism Database Project.</a>  For other questions, send
	mail to <a href="mailto:lstein@cshl.org">lstein@cshl.org</a>.
	</TD>
	</TR>
	</table>';
	ElegansSubs::ElegansSearchBar();
	print ElegansSubs::Footer();
	return;
	}

# examples to show in the introduction
examples = IV 
	   
# "automatic" classes to try when an unqualified identifier is given
automatic classes = OSTP OST

remote sources = 

[TRACK DEFAULTS]
font2color = blue

##################################################################################
# the remainder of the sections configure particular tracks to show
##################################################################################

# the remainder of the sections configure particular features to show

[OSTP]
feature       = PCR_product:Orfeome
glyph         = primers	
height        = 4
fgcolor       = black
connect       = 1
das category  = transcription
#connect_color = \&ostp_color
#font2color    = \&ostp_color
#fgcolor       = \&ostp_color
#description   = \&ostp_amplifies
key           = ORFeome Project Primers
citation      = This track contains Orfeome Project primer pairs.  These primers were used to amplify
	C. elegans cDNAs.  A positive amplification, shown in green, is evidence that the region
	between the two primers is transcribed.  Failure to amplify, shown in red, suggests
	either that the gene model is incorrect, or that the gene is expressed at very low levels.
	Detailed gene models derived from ORFeome sequencing will be added to this display in
	the future.  See <i>Reboul et al. Nat. Genet. 2003 Apr 7.</i> and 
	<a href="http://worfdb.dfci.harvard.edu" target="_blank">WORFdb</a> for further information.

[OST]
feature       = expressed_sequence_match:BLAT_OST_BEST
glyph         = segments
draw_target   = 1
show_mismatch = 1
ragged_start  = 1
bgcolor       = red
fgcolor       = black
das category  = transcription
connector     = solid
# group_pattern = /^OST[RF]/
link          = http://worfdb.dfci.harvard.edu/search.pl?form=1;search=$name
link_target   = _blank
key           = ORFeome sequence tags (best)
citation      = These are <a href="http://worfdb.dfci.harvard.edu/">ORFeome project</a> sequence reads.
	The ORFeome project designs primer assays for spliced mRNAs and then performs sequence reads
	on rtPCR material, producing "OSTs."  This track shows ORFeome project OSTs aligned to the
	<i>C. elegans</i> genome using Jim Kent's BLAT program
	[<a href="http://genome.cse.ucsc.edu/cgi-bin/hgBlat">http://genome.cse.ucsc.edu/cgi-bin/hgBlat</a>].
	This track shows the best unique location for each OST.



