[GENERAL]
description = Ruminant-Human (hg17) Genome Browser v4.1 (test)
db_adaptor  = Bio::DB::GFF
db_args     = -adaptor dbi::mysqlopt 
	      -dsn     dbi:mysql:database=ruminent;host=localhost

#aggregators = transcript alignment orf
aggregators = orf
              uniquebac{bac/bacaln}
              multihitbac{bac2/bacaln2}
              pair{bacpair/pairaln}
              tile{bogus/tilingpath}
              ncRNA{snoRNA,scaRNA,spRNA,miRNA,QRNA}
              agouti_wgs_pbz{apbz/apbzhit}
              mymatch{HSP/match}
              zoom{match}

reference class = Sequence
request timeout = 300
show sources = 0
show track categories = 1

#plugins = SequenceDumper FastaDumper RestrictionAnnotator GFFDumper test
#plugins = null
#plugins = WGSDumper

# Web site configuration info
stylesheet  = /gbrowse/gbrowse.css
buttons     = /gbrowse/images/buttons
tmpimages   = /gbrowse/tmp

# Default glyph settings
glyph       = generic
height      = 8
bgcolor     = cyan
fgcolor     = cyan
label density = 25
bump density  = 100

# where to link to when user clicks in detailed view
#link = http://genome-www4.stanford.edu/cgi-bin/SGD/locus.pl?locus=$name
#link  = https://www.biolives.li.csiro.au/bac/mapping/showExon.cgi?chr=$ref&item=$name
#link  = https://www.biolives.li.csiro.au/lgp/lgpdatabase/bacend/DisplayEst?identifier=$name&queryType=EST_Name
link = ../../gbrowse_details.cgi/rumhum?name=$name;class=$class

# what image widths to offer
image widths  = 450 640 800 1024

# default width of detailed view (pixels)
default width = 800
default features = Refseq Ibiss3n Ibiss4n

# max and default segment sizes for detailed view
#max segment     = 500000
max segment     = 1000000
default segment = 100000

# zoom levels
zoom levels    = 100 500 1000 5000 10000 50000 100000 500000 1000000 2000000 5000000

# colors of the overview, detailed map and key
overview bgcolor = lightgrey
detailed bgcolor = lightgoldenrodyellow
key bgcolor      = beige

# examples to show in the introduction
examples = HSA17:39711342..39811341
           btcn14808
           oacn1253
           HSA17:39261342..40261341
           HADHB

# "automatic" classes to try when an unqualified identifier is given
#automatic classes = Symbol Gene Clone
automatic classes = Accession Contig Sequence Marker Sputnik Tandyman Gene SNP ID

# a footer
footer = <hr>
	<table width="100%">
	<TR>
	<TD align="LEFT" class="databody">
	For the source code for this browser, see the <a href="http://www.gmod.org">
	Generic Model Organism Database Project.</a>  For other questions, send
	mail to <a href="mailto:lstein@cshl.org">lstein@cshl.org</a>.
	</TD>
	</TR>
	</table>
	<hr>
	<!--pre>$Id: 01.yeast.conf,v 1.12 2002/12/07 18:18:25 lstein Exp $</pre-->

# Various places where you can insert your own HTML -- see configuration docs
html1 = Search Tip: Use of the wildcard character <strong>*</strong> flanking the search term is highly recommended although will result in slower searches.
html2 =
html3 = 
html4 =
html5 =
html6 =
keystyle = beneath

[bcgsc_id:DETAILS]
URL = ../../gbrowse.cgi/baccontig/?name=$value
[non_paired_ends:DETAILS]
URL = ?name=$value*;class=Accession
[full_details:DETAILS]
URL = ?name=$value*;class=Accession
[NCBI:DETAILS]
URL = http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?db=nucleotide&cmd=search&term=$value
[NCBI_link:DETAILS]
URL = http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?db=nucleotide&cmd=search&term=$value
[IBISS_link:DETAILS]
URL = /IBISS3/?cn=$value
[IBISS3:DETAILS]
URL = /IBISS3/?cn=$value
[IBISS4:DETAILS]
URL = /IBISS4/?cn=$value
[OASIS_link:DETAILS]
URL = /OASIS3/?cn=$value
[OASIS:DETAILS]
URL = /OASIS3/?cn=$value
[TI:DETAILS]
URL = http://www.ncbi.nlm.nih.gov/Traces/trace.cgi?cmd=retrieve&m=obtain&s=search&val=$value
[Ensembl:DETAILS]
URL = http://www.ensembl.org/Homo_sapiens/geneview?gene=$value
[Reference:DETAILS]
URL = http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=Retrieve&db=pubmed&dopt=Abstract&list_uids=15231756
[TIGR_id:DETAILS]
URL = http://www.tigr.org/docs/tigr-scripts/tgi/tc_report.pl?species=cattle&tc=$value
[Contig:DETAILS]
URL = ../gbrowse.cgi/bova2/?name=$value;class=Contig
[Bova:DETAILS]
URL = ../../gbrowse.cgi/bova2/?name=ibiss3:$value
[Bova4:DETAILS]
URL = ../../gbrowse.cgi/bova2/?name=ibiss4:$value
[TranAna:DETAILS]
URL = ../../gbrowse.cgi/tranana/?name=$value
[TranAna4:DETAILS]
URL = ../../gbrowse.cgi/tranana4/?name=$value
[TargetChr:DETAILS]
URL = ../gbrowse.cgi/rumhum/?name=$value
[TargetDC:DETAILS]
URL = http://projects.tcag.ca/cgi-bin/duplication/duplicationViewer?source=hg17&id=$value
[Pseudogene:DETAILS]
URL = http://www.pseudogene.org/cgi-bin/display-by-acc.cgi?id=$value


### TRACK CONFIGURATION ####
# the remainder of the sections configure individual tracks

[TRACK DEFAULTS]
glyph        = segments
fgcolor      = black
font2color   = gray
strand_arrow = 1
height       = 6

[ens_gene]
feature       = mymatch:ens_gene
category      = Human
key           = Ensembl genes
bgcolor       = red
description   = 1
citation      =
   Ensembl Genes are NOT real transcripts, they have been constructed from
   Ensembl transcripts by concatenating ALL exons derived from a gene into
   a single sequence. Thus, the Ensembl gene creates one sequence for each
   human gene.
   <p>
   <b>v3.1 25th March 2004</b> First version on which track was available.

[Refseq]
feature       = mymatch:refseq
category      = Human
key           = Refseq genes
bgcolor       = red
description   = 1
citation =
   Human refseq blatted against the human genome.
   <p>
   <b>v1.0 24th September 2003</b> Human Refeq mRNA track added.

[sputnik]
feature       = spk:sputnik
category      = Human
key           = Sputnik vntrs
glyph         = box
bgcolor       = red
strand_arrow  = 0
description   = 1
citation =
   This track contains human microsatellites with 1-5 base repeats
   and scores greater than or equal to 16 in human chromosomes. <a
   href="http://capb.dbi.udel.edu/main/ssr-proj/ssr-file/description.html">Sputnik</a>
   was used with default settings.
   <p>
   <b>v3.7 26 July 2004</b>. First version on which track was available.

[ucsc]
feature       = ucsc:ucsc
category      = Human
key           = Tandyman vntrs
glyph         = box
bgcolor       = red
strand_arrow  = 0
description   = 1
citation      =
   This track contains human microsatellites (found by <a
   href="http://www.stdgen.lanl.gov/tandyman/docs/index.html">tandyman</a>)
   in human chromosomes.  The data was obtained from the UCSC web
   site. <a href="http://genome.ucsc.edu/cgi-bin/hgTrackUi?g=vntr">It is
   predicted that there is a greater than 90% probability that these will
   be polymorphic</a>.
   <p>
   <b>v3.7 26 July 2004</b>. First version on which track was available.

[BTCTGBLATH:900000]
glyph         = box
feature       = match:btctgblath

[BTCTGBLATH]
feature       = mymatch:btctgblath
category      = Cow
key           = Contig blat
bgcolor       = blue
description   = 1
#link		= ../../gbrowse.cgi/bova2/?name=$name;class=Contig
citation = This track displays contigs based on a preliminary assembly (version
   2) of the cow, Bos taurus, Hereford breed, using whole genome shotgun (WGS)
   reads.  The details page for this track includes a link to the Bovine
   Assembly browser.  The Bovine Assembly browser aligns these contigs and a
   number of other items onto scaffolds.  The other items include the human
   reference sequences (refseq), Ensembl sequences, Bovine ESTs, IBISS consensi,
   TIGR cattle gene indicies and bovine unigenes.

[Ibiss3n]
feature       = mymatch:ibiss3_n
category      = Cow
key           = IBISS3 (nucleotide)
bgcolor       = blue
description   = 1
citation =
   IBISS3 (bovine) Consensi and Singletons (nucleotide) blatted against the
   human genome.
   <p>
   <b>v1.0 24th September 2003</b> IBISS3 (nucleotide) track added.

[Ibiss3p]
feature       = mymatch:ibiss3_p
category      = Cow
key           = IBISS3 (protein)
bgcolor       = blue
description   = 1
citation =
   IBISS3 (bovine) Consensi and Singletons (protein) blatted against the
   human genome.
   <p>
   <b>v1.0 24th September 2003</b> IBISS3 (protein) track added.

[Ibiss4n]
feature       = mymatch:ibiss4_n
category      = Cow
key           = IBISS4 (nucleotide)
bgcolor       = blue
description   = 1
citation =
   IBISS3 (bovine) Consensi and Singletons (nucleotide) blatted against the
   human genome.
   <p>
   <b>v1.0 3rd February 2005</b> IBISS3 (nucleotide) track added.

[Ibiss4p]
feature       = mymatch:ibiss4_p
category      = Cow
key           = IBISS4 (protein)
bgcolor       = blue
description   = 1
citation =
   IBISS4 (bovine) Consensi and Singletons (protein) blatted against the
   human genome.
   <p>
   <b>v1.0 3rd February 2005</b> IBISS4 (protein) track added.

[Bac1]
feature       = uniquebac
category      = Cow
key           = BACs (single hits)
bgcolor       = sub {
   my $feature = shift;
#  my $name = $feature->display_name;
   my $score = $feature->score;
   my $source = $feature->source;
   my $base = '00';
   my $intensity;
   if ($source eq 'file' || $source =~ /blat/) {
      if    ($score >= 600) { $intensity = '00'; }
      elsif ($score >= 400) { $intensity = '33'; }
      elsif ($score >= 200) { $intensity = '66'; }
      elsif ($score >= 100) { $intensity = '99'; }
      else                  { $intensity = 'cc'; }
      }
   else {	# blast
      if    ($score >= 300) { $intensity = '00'; }
      elsif ($score >= 200) { $intensity = '33'; }
      elsif ($score >= 100) { $intensity = '66'; }
      elsif ($score >=  50) { $intensity = '99'; }
      else                  { $intensity = 'cc'; }
      }
   if ($source eq 'file' || $source =~ /blat/) {
      #return "#$base$intensity$intensity";
      return "#$base$base$intensity";
      }
   else {	# bcgsc
      #return "#$intensity$base$intensity";
      return "#$base$base$intensity";
      }
   }
description   = 1
citation =
   Bos taurus BAC end sequences with single hits v. human genome, BLAT
   hits have a high confidence value and are coloured red, BLAST hits with
   e-values less than e-8 are also shown, hits are coloured green, many of
   these have a much lower confidence value than the BLAT hits.  In both
   cases, better hits are coloured using a more saturated colour.
   <p>
   <b>v2.0 6th February 2004</b> Bovine BACs (single hits) track added, using
   data provided by the IBBMC and BLAT results calculated in house. First
   version on which track was available.

[Bac2]
feature       = multihitbac
category      = Cow
key           = BACs (multiple hits)
bgcolor       = sub {
   my $feature = shift;
#  my $name = $feature->display_name;
   my $score = $feature->score;
   my $source = $feature->source;
   my $base = '00';
   my $intensity;
   if ($source eq 'file' || $source =~ /blat/) {
      if    ($score >= 600) { $intensity = '00'; }
      elsif ($score >= 400) { $intensity = '33'; }
      elsif ($score >= 200) { $intensity = '66'; }
      elsif ($score >= 100) { $intensity = '99'; }
      else                  { $intensity = 'cc'; }
      }
   else {	# blast
      if    ($score >= 300) { $intensity = '00'; }
      elsif ($score >= 200) { $intensity = '33'; }
      elsif ($score >= 100) { $intensity = '66'; }
      elsif ($score >=  50) { $intensity = '99'; }
      else                  { $intensity = 'cc'; }
      }
   if ($source eq 'file' || $source =~ /blat/) {
      #return "#$base$intensity$intensity";
      return "#$base$base$intensity";
      }
   else {	# bcgsc
      #return "#$intensity$base$intensity";
      return "#$base$base$intensity";
      }
   }
description   = 1
citation =
   Bos taurus BAC end sequences with multiple hits v. human genome all BLAST
   hits with e-values less than e-8 are shown. Better hits are coloured
   using a more saturated colour. For BAC end sequences that are part of a
   BAC pair (see BAC pair discription), all hits with expect score less than
   0.002 are shown, for all other multiple hits matches with expect score
   less than 1e-8 are shown.
   <p>
   <b>v2.0 6th February 2004</b> Bovine BACs (multiple hits) track added,
   using data provided by the IBBMC and BLAT results calculated in house.
   First version on which track was available.

[Bacpair]
feature       = pair
category      = Cow
key           = BACs (paired ends)
bgcolor       = sub {
   my $feature = shift;
#  my $name = $feature->display_name;
   my $score = $feature->score;
   my $source = $feature->source;
   my $base = '00';
   my $intensity;
   if ($source eq 'file' || $source =~ /blat/) {
      if    ($score >= 600) { $intensity = '00'; }
      elsif ($score >= 400) { $intensity = '33'; }
      elsif ($score >= 200) { $intensity = '66'; }
      elsif ($score >= 100) { $intensity = '99'; }
      else                  { $intensity = 'cc'; }
      }
   else {	# blast
      if    ($score >= 300) { $intensity = '00'; }
      elsif ($score >= 200) { $intensity = '33'; }
      elsif ($score >= 100) { $intensity = '66'; }
      elsif ($score >=  50) { $intensity = '99'; }
      else                  { $intensity = 'cc'; }
      }
   if ($source eq 'file' || $source =~ /blat/) {
      #return "#$base$intensity$intensity";
      return "#$base$base$intensity";
      }
   else {	# bcgsc
      #return "#$intensity$base$intensity";
      return "#$base$base$intensity";
      }
   }
description   = 1
citation =
   Bos taurus BAC end sequences with paired hits v. human genome, BLAT
   paired hits have a high confidence value and are coloured red, BLAST
   hits with e-values for each end less than 0.002, matches in the correct
   orientation and less than 400kb apart are also shown, hits are coloured
   green, many of these have a much lower confidence value than the BLAT
   hits.
   <p>
   <b>v2.0 6th February 2004</b> Bovine BACs (paired ends) track added,
   using data provided by the IBBMC and BLAT results calculated in house.
   First version on which track was available.

[AFFY]
feature       = mymatch:affyblatscaf
category      = Cow
key           = Affymetrix Targets
bgcolor       = blue
description   = 1
citation = Affymetrix target sequences blatted against scaffolds and lifted over to hg17.

[TIGR]
feature       = mymatch:tigrblath
category      = Cow
key           = TIGR blat
bgcolor       = blue
description   = 1
citation =
   TIGR Cattle Gene Index blatted against the human genome.
   <p>
   <b>v4.0 26th August 2004</b>. First version on which track was available.

[mouse]
feature       = mymatch:mouseblath
category      = Mouse
key           = Refseq
bgcolor       = brown
description   = 1
citation = Mouse refseq blatted against hg17

