<!DOCTYPE HTML>
<html>
  <head>    
    <meta charset="UTF-8">

    <title>
      WormBase      
      [% IF name %]
           :  [% name.class %]: [% name %]
      [% ELSE %]    
         : [% template.title or c.config.site_byline %]      
      [% END %]
    </title>


<script type="text/javascript" src="/js/jquery/current-theme/js/jquery-1.4.2.min.js"></script>
<!--<script type="text/javascript" src="/js/jquery/current-theme/js/jquery-ui-1.8.1.custom.min.js"></script>-->
<script type="text/javascript" src="/js/jquery/current-theme/js/jquery-ui-1.8.2.custom.min.js"></script>
<script type="text/javascript" src="/js/search.js"></script> 

<!--<link type="text/css" href="/js/jquery/current-theme/css/theme/jquery-ui-1.8.1.custom.css" rel="stylesheet" />-->
<!--<link type="text/css" href="/js/jquery/current-theme/css/theme/jquery-ui-1.8.2.custom.css" rel="stylesheet" />-->
<link type="text/css" href="/js/jquery/current-theme/development-bundle/themes/theme/jquery.ui.all.css" rel="stylesheet" />


<link type="text/css" href="/css/main.css" rel="stylesheet" />
[% IF is_classic %]
    <link type="text/css" href="/css/main_classic.css" rel="stylesheet" />
[% END %]

<link href="/css/home.css" rel="stylesheet" type="text/css" />

<script type="text/javascript">
  // Tabs
  $(function() {
  $(".ui-tabs").tabs()
  });
</script>

<script type="text/javascript">
  $(document).ready(function() {  
       $(".toggle").live('click',function() {
		  //$(this).click(function(){
              $(this).toggleClass("active").next().slideToggle("fast");
              return false;
        })
  })

  // Load a (specific) field or widget dynamically onClick.
  $("a.ajax").click(function() {
      var url     = $(this).attr("href");
      var format  = $(this).text();
//    format  = $(this).text();
  
      // Multiple classes specified. Split so I can rejoin.
      var mytitle = $(this).attr("class").split(" ");
      if (format == "yml") {
          format = "text/x-yaml";
      }

      $.ajax({
                 type: "GET",
                 url : url,
                 contentType: 'application/x-www-form-urlencoded',
                 dataType: format,
                 success: function(data){
                      //  Add some description prior to dumping the content
                      var content = "<p>REST request for " + url + "<br />Content-Type: " + format + "</p>";
                       $("#" + mytitle[1] + ".returned-data").show();
                       $("#" + mytitle[1] + ".returned-data").html(content);                         

                        // Embed in <pre> if this is not html
                        if (format == "html") {
                        } else { 
                          data = "<pre>" + data + "</pre>";
                        }

                       $("#" + mytitle[1] + ".returned-data").append(data);
                   },
                   error: function(request,status,error) {
                         alert(request + " " + status + " " + error + " " + format);
                   }
        });
  return false;
  })

    $("h1").each(function(i) {
//        var url = $(i).attr("href");
//        var widget = $(i).text();  
    alert("help");
//         $("#widget").load("url"),
//   		                   function(response, status, xhr) {
//                                          if (status == "error") {
//                                             var msg = "Sorry but there was an error: ";
//                                             $("#error").html(msg + xhr.status + " " + xhr.statusText);
//                                          } 
//                                    }
});




    


   //     // Tooltips
   //     $("a[title]").tooltip({
   //
   //  // use div.tooltip as our tooltip
   //  //  tip: '.tooltip',
   //
   //  // use the fade effect instead of the default
   //  effect: 'fade',
   //
   //  // make fadeOutSpeed similar to the browser's default
   //  fadeOutSpeed: 100,
   //
   //  // the time before the tooltip is shown
   //  predelay: 400,
   //
   //  // tweak the position
   //   position: "bottom right",
   //   offset: [-50, -80]
   //  });

</script>

  </head>

  <body>
    [%- content -%]    
  </body>
</html>
