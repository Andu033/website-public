<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    
    <title>
      WormBase
      
      [% IF name %]
           :  [% name.class %]: [% name %]
      [% ELSE %]    
         : [% template.title or c.config.site_byline %]      
      [% END %]

    </title>
    
<script type="text/javascript" src="/static/js/jquery/jquery-1.3.2.min.js"></script>  
<script type="text/javascript" src="/static/js/jquery/jquery-ui-1.7.2.custom.min.js"></script> 

<link href="/static/js/development-bundle/themes/smoothness/ui.theme.css" rel="stylesheet" type="text/css" />  
<link href="/static/js/development-bundle/themes/smoothness/ui.tabs.css" rel="stylesheet" type="text/css" />  

<script type="text/javascript">
  $(function() {
  $(".ui-tabs").tabs()
  });

</script>

<script>

  $(document).ready(function(){

  // Load a (specific) field by ajax
  $("a.ajax").click(function() {
          var url     = $(this).attr("href");
          var format  = $(this).text();
          var mytitle = $(this).attr("title");
          new_url = url + "?content-type=application/json";
           $.ajax({
                 type: "GET",
                 url : new_url,
//                 contentType: $(this).text(),
//                 dataType: $(this).text(),
//                 dataType: "json",
//                 contentType: "json",
//                 dataType: "application/" + format,
//                 contentType: "application/" + format,
                 success: function(data){
                       alert(mytitle);
                         
 //                      $(".returned-data." + mytitle).toggleClass(".data-box").show();
                       $("#returned-data." + mytitle).show();
                       $("#returned-data." + mytitle).replaceWith(data);                     
                 },
                 error: function(request,status,error) {
                       alert(request + " " + status + " " + error + " " + format);
                  }
        });

  return false;
  });

});




//  // Load a (specific) field by ajax
//  $(document).ready(function(){
//  $.get("http://dev.wormbase.org:8080/rest/field/gene/WBGene00006763/common_name",
//         {},
//        function(data,status){
//          alert(status);
//          $("#results").append(data);
//        },
//        "html"
//     );
//});




  // Load a generic field by ajax
  // This would typically be called onClick
  // Need to set the host as appropriate, too  
//  $("#loadme").click(function(class,name,field) {
//  class="gene";
//  field="common_name";
//  name="WBGene00006763";
//  $.get("http://dev.wormbase.org:8080/rest/field/" + class "/" + name + "/" + field + "/",
//         {},
//        function(data,status){
//          alert(status);
//          $("#results2").append(data);
//        },
//        "html"
//     );
//});

  </script>



    <!-- link rel does not work using dynamic path -->
    <link rel="stylesheet" href="/css/main.css" type="text/css">
  </head>

  <body>
    [%- content -%]    
  </body>
</html>
