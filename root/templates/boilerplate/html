<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    
    <title>
      WormBase
      
      [% IF name %]
           :  [% name.class %]: [% name %]
      [% ELSE %]    
         : [% template.title or c.config.site_byline %]      
      [% END %]

    </title>
    
<script type="text/javascript" src="/js/jquery/jquery-1.3.2.min.js"></script>  
<script type="text/javascript" src="/js/jquery/jquery-ui-1.7.2.custom.min.js"></script> 

<link href="/js/development-bundle/themes/smoothness/ui.theme.css" rel="stylesheet" type="text/css" />  
<link href="/js/development-bundle/themes/smoothness/ui.tabs.css" rel="stylesheet" type="text/css" />  

<script type="text/javascript">
  $(function() {
  $(".ui-tabs").tabs()
  });

</script>

<script>

  $(document).ready(function(){
  
  // Load a (specific) field by ajax
  $("a.ajax").click(function() {
      var url     = $(this).attr("href");
      var format  = $(this).text();
  
      // Multiple classes specified. Split so I can rejoin.
      var mytitle = $(this).attr("class").split(" ");
      if (format == "yml") {
      format = "text/x-yaml";
  }

     $.ajax({
                 type: "GET",
                 url : url,
                 contentType: 'application/x-www-form-urlencoded',
                 dataType: format,
                 success: function(data){
                      //  Add some description prior to dumping the content
                      var content = "<p>REST request for " + url + "<br />Content-Type: " + format + "</p>";
                       $("#" + mytitle[1] + ".returned-data").show();
                       $("#" + mytitle[1] + ".returned-data").html(content);                         

                        // Embed in <pre> if this is not html
                        if (format == "html") {
                        } else { 
                          data = "<pre>" + data + "</pre>";
                        }

                       $("#" + mytitle[1] + ".returned-data").append(data);
                 },
                 error: function(request,status,error) {
                       alert(request + " " + status + " " + error + " " + format);
                  }
        });
  return false;
  });



});

  </script>



    <!-- link rel does not work using dynamic path -->
    <link rel="stylesheet" href="/css/main.css" type="text/css">
  </head>

  <body>

    [%- content -%]    
  </body>
</html>
